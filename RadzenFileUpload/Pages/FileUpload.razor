@page "/upload"

<h3>File Upload</h3>

<div class="row">
    <div class="col-md-6">
        <h3>Single File Upload</h3>
        <RadzenUpload Url="upload/single" Style="margin-bottom:20px;" Progress="@((args) => OnProgress(args, "Single File Upload"))"></RadzenUpload>

        <br />

        <h3>Multiple File Upload</h3>
        <RadzenUpload Multiple="true" Url="upload/multiple" Style="margin-bottom:20px;" Progress="@((args) => OnProgress(args,"Multiple File Upload"))"></RadzenUpload>

        <br/>

        <h3>Upload Image File Only</h3>
        <RadzenUpload Multiple="true" Url="upload/multiple" Accept="image/*" Style="margin-bottom:20px;" Progress="@((args) => OnProgress(args, "Single File Upload"))"></RadzenUpload>
    </div>
</div>

<div class="col-md-6">
    <h3>Event</h3>
    <RadzenCard Style="overflow:auto;height:500px;">
        <RadzenProgressBar Value="@progress" Unit="@info" Visible="@(progress > 0)" Style="margin-bottom:20px;"></RadzenProgressBar>

    </RadzenCard>
</div>

@code {
    int progress;
    string info;

    void OnProgress(UploadProgressArgs args, string name)
    {
        this.info = $"%'{name}'/ {args.Loaded} of {args.Total} bytes.";
        this.progress = args.Progress;
    }
}
